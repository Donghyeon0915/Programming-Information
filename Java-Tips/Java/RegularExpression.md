[원문](https://medium.com/@originerd/%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-%EC%A2%80-%EB%8D%94-%EA%B9%8A%EC%9D%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-5bd16027e1e0)

■ 도입

\- 정규표현식은 단어나 표현식이 문자열에 있는 지를 가려내고 찾아내는 역할을 한다.

\- 정규 표현식은 문자열로 되어있으며 /로 감싼 형태로 표현된다.


> **예문**
>
>안녕하세요 안녕하십니까
>
>정규식
>
>**/안녕/**


>결과
>
>**안녕**하세요 **안녕**하십니까


■ 메타 문자

- 메타 문자란 문자열 속 문자에 대한 정보를 담기 위해 넣는 문자로 정규식에는 다양한 메타문자가 존재한다. 그 중 기본적인 메타문자는 다음과 같다.

- . : 와일드카드, 모든 문자와 일치한다.

- [] : 대괄호 사이에 존재하는 문자들 중 하나에 일치시킨다. 문자의 or 버전이라 보면 된다.

- [^] : 대괄호 사이에 존재하는 문자들을 제외한 모든 문자들과 일치시킨다. []의 not 버전이다.

- [a-z] : 대괄호 사이의 문자 중에 문자1-문자2가 있으면 문자1과 문자2 사이의 모든 문자랑 일치시킨다. 문자의 범위 버전이다.

- ^ : 대괄호 사이에 존재할 때는 부정을 나타내지만, 대괄호 밖에서는 문자열의 시작과 일치한다.

- $ : ^와 반대로, 문자열의 끝과 일치한다.

- * : 앞에 존재하는 문자가 0번 이상 반복되는 문자를 찾을 때 사용한다.

- + : 앞에 존재하는 문자가 1번 이상 반복되는 문자를 찾을 때 사용한다.

- ? : 앞에 존재하는 문자가 있을 수도, 없을 수도 있을 떄 사용한다.

- ∖ : 이스케이프 문자, 메타문자를 문자 그대로 사용할 수 있도록 변환해주는 기호이다.

- a | b : a 또는 b 문자와 일치한다.

- ∖A : 문자열의 시작과 일치한다. ^과 비슷하지만 ^는 줄 단위인 반면 ∖A는 문자열 단위이다.

- ∖Z : 문자열의 끝과 일치한다. ∖A처럼 문자열 단위이다.

- ∖d : 숫자와 일치한다. ( [0-9] )

- ∖w : 영문자 및 숫자, _ 문자와 일치한다. ( [0-9A-z_] )

- ∖s : 공백문자와 일치한다.

- ∖b : 문자 사이의 경계와 일치한다. 정확히는 ∖w와 ∖W 사이를 의미한다.

- ∖d, ∖w, ∖s, ∖b를 대문자로 바꾸면 일치하는 문자가 뒤바뀐다. []에서 [^]로 바뀐다고 보면 된다.

​

■ 묶어 표현하기

- 연달아 붙어있는 문자를 표현할 때는 { }를 쓴다.

- { n } : 앞에 존재하는 문자가 n번 반복되는 문자와 일치한다.

- { n,m } : 앞에 존재하는 문자가 n번 이상, m번 이하 반복되는 문자와 일치한다.

- { n, } : 앞에 존재하는 문자가 n번 이상 반복되는 문자와 일치한다.

- 여러 문자와 반복하여 일치하는 표현식은 사실 탐욕적(Greedy) 방식으로 동작한다. 그래서 의도치 않게 너무 많이 일치하는 경우가 생긴다. 이를 막을려면 메타문자 뒤에 ?를 붙여서 게으른(Lazy) 방식으로 동작시켜야 된다.

- 해당 메타문자 : *? , +?, { n, }?

- 아래 예시는 i에서 시작해서 n으로 끝나는 모든 문자를 찾는 예시이다.
> 
>예문                                   
>
>internalization                       
>
>탐욕적 정규식                           
>i∖w+n                                  
>
>결과                                    
>**internalization**
>

>예문
>internalization
>
>게으른 정규식
>i∖w?+n
>
>결과
>**intern**alization

- 이 다음으로 정규식에서 빼놓을 수 없는 그룹에 대해 설명한다. 그룹은 () 문자로 지정할 수 있으며, 괄호 사이에 존재하는 표현식을 통해 찾은 결과를 묶음으로 처리할 수 있고, 일종의 단어 역할을 한다고 보면 된다.

- 그룹의 첫번째에 ?:를 넣으면 그 그룹은 검색할 때는 사용되지만 결과에는 포함되지 않는다.

- 그룹은 일반적으로 ∖1과 같이 ∖문자와 그룹의 번호로 구성된다. 일반적으로 전체 겨로가가 ∖0이며, 앞에서부터 나타나는 그룹의 순서에 따라 숫자가 하나씩 증가하는 방식이며 이를 역참조(Backreference)라고 부른다.

> 예문
>
>\<h1>이것은 첫 번째 제목\</h1>
>
>\<h2>It's also right heading\</h2>
>
>\<h3>이것은 올바르지 않은 제목\</h4>

>정규식
>
><(h[1-3])>[가-힣\w\s]+<\/\1>
>
>결과
>
>**\<h1>이것은 첫 번째 제목\</h1>**
>
>**\<h2>It's also right heading\</h2>**
>
>\<h3>이것은 올바르지 않은 제목\</h4>

- 예시의 첫번째 태그와 두번째 태그는 여는 태그와 닫는 태그가 일치하지만 세번째 태그는 일치하지 않기 때문에 표현식에 검색되지 않았다.

​

■ 패턴변경자

- 패턴구분자(/와 /)가 끝나면 그 뒤에 쓰는 것으로 패턴에 일괄적으로 변경을 가할 때 사용한다. 정규식 엔진에 따라 변경자의 적용 방식이 상이하므로 해당 구현 스펙을 읽어봐야 한다.

- i : 패턴을 대소문자 구분없이 검사한다. 영어가 아닌 대소문자 언어의 경우 버그 가능성이 있으므로 쓰지 않는 게 좋다.

- s : 임의의 한 문자를 가리키는 . 메타문자에 개행문자(∖n)도 포함시키도록 한다.

- g : ^, $ 문자가 문자열 단위로 적용된다.

- m : 주어진 문자열에 줄바꿈이 있을 경우 여러줄로 취급하여 검사한다.원래 정규표현식을 쓸 때 줄바꿈은 무시되는데, 이걸 사용하면 줄바꿈을 적용해서 검사한다. 그리고 ^와 $가 줄 단위로 적용된다.

- x: 공백문자를 무시한다. 단 이스케이프하거나 문자 클래스 안에 있을 경우 예외로 처리한다. 정규식을 읽기 편하게 만들기 위한 용도지만 엔진에 따라 지원하지 않을 수도 있다.

​

■ 심화

- 정규식에는 if와 같은 개념인 전방탐색과 후방탐색이 존재한다. 전방탐색은 특정한 문자 앞에 일치하는 문자만 찾고, 후방탐색은 특정한 문자 뒤에 일치하는 문자만 찾는다. 이러한 탐색으로 일치된 문자는 그룹처럼 보이지만 결과에는 포함되지 않는다.

- (?=) : 전방탐색, 찾고자 하는 표현식 뒤에 전방탐색 표현식을 넣으며 (?=와 ) 사이에 표현식을 넣는다.

- (?<=) : 후방탐색, 찾고자 하는 표현식 앞에 후방탐색 표현식을 넣으며 (?<= 와 ) 사이에 표현식을 넣는다.

- 이와 반대인 부정형 탐색은 = 대신 !를 넣으면 된다.

- 이 글의 마지막은 조건절이다. IF...THEN...ELSE 식 구성으로 "(?(C)A|B)"와 같이 표현한다. C는 조건, A는 조건이 참일 때 매치하는 패턴, B는 거짓일 때 매치하는 패턴이며 조건에 들어갈 수 있는 내용은 이미 세팅된 캡쳐링 그룹의 번호나 이름, 탐색식 등등이 있다.

​

■ 여담 및 참조

- 정규표현식은 기본적인 부분은 같지만 언어마다 구현된 부분에 차이가 있다. 예를 들어 역참조나 조건절 기능은 언어에 따라 지원하지 않을 수도 있고 자바스크립트는 브라우저에 따라 후방탐색을 지원하지 않는다고 한다. 사용하는 언어의 정규표현식 지원 스펙을 제대로 알고 사용하면 좋을 것이다.
[출처] 정규표현식 간단 정리 (C언어를 배우자) | 작성자 MrWon
